<h1>Immutability Test</h1>

<p>User from store:</p>

<pre>{{ user$ | async | json }}</pre>

<!-- Reactive-driven form -->
<form [formGroup]="userForm" (submit)="setUserFromFormGroup()">
    <h2>Edit User (reactive form with FormGroup)</h2>
    <p>
        <label>
            <span class="label-text">User name (required):</span>
            <input
                type="text"
                formControlName="name"
                class="input-text"
                data-testid="reactive-form-name"
            />
        </label>
    </p>
    <p>
        <label>
            <span class="label-text">First name (required):</span>
            <input
                type="text"
                formControlName="firstName"
                class="input-text"
                data-testid="reactive-form-first-name"
            />
        </label>
    </p>
    <p>
        <label>
            <span class="label-text">Last name (required):</span>
            <input
                type="text"
                formControlName="lastName"
                class="input-text"
                data-testid="reactive-form-last-name"
            />
        </label>
    </p>
    <p>
        <label>
            <span class="label-text">Email (required):</span>
            <input
                type="email"
                formControlName="email"
                class="input-text"
                data-testid="reactive-form-email"
            />
        </label>
    </p>

    <p>
        <button type="submit" [disabled]="!userForm.valid" data-testid="reactive-form-submit">
            Save user
        </button>
    </p>
</form>

<!-- Template-driven form -->
<form *ngIf="user as someUser" #userFormNgModel="ngForm" (submit)="setUserFromNgModel()">
    <h2>Edit User (template-driven form with ngModel)</h2>
    <p>
        <label>
            <span class="label-text">User name (required):</span>
            <input
                type="text"
                name="name"
                class="input-text"
                required
                [(ngModel)]="someUser.name"
                data-testid="template-driven-form-name"
            />
        </label>
    </p>
    <p>
        <label>
            <span class="label-text">First name (required):</span>
            <input
                type="text"
                name="firstName"
                class="input-text"
                required
                [(ngModel)]="someUser.firstName"
                data-testid="template-driven-form-first-name"
            />
        </label>
    </p>
    <p>
        <label>
            <span class="label-text">Last name (required):</span>
            <input
                type="text"
                name="lastName"
                class="input-text"
                required
                [(ngModel)]="someUser.lastName"
                data-testid="template-driven-form-last-name"
            />
        </label>
    </p>
    <p>
        <label>
            <span class="label-text">Email (required):</span>
            <input
                type="email"
                name="email"
                class="input-text"
                required
                email
                [(ngModel)]="someUser.email"
                data-testid="template-driven-form-email"
            />
        </label>
    </p>

    <p>
        <button
            type="submit"
            [disabled]="!userFormNgModel.valid"
            data-testid="template-driven-form-submit"
        >
            Save user
        </button>
    </p>
</form>
